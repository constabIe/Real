#include "../include/Real.hpp"
#include "../googletest/googletest/include/gtest/gtest.h"

TEST(Operations, add) {
    EXPECT_EQ(Real("883646234887647324625726347.1827845971223462374623746362858637434") +
              Real("74623648263451725476234.7346823487615476579273645523647236456"),
              Real("883720858535910776351202581.917466945883893895389739188650587389"));
}

TEST(Operations, add_and_assign) {
    Real num_1("883646234887647324625726347.1827845971223462374623746362858637434");
    Real num_2("74623648263451725476234.7346823487615476579273645523647236456");

    num_1 += num_2;

    EXPECT_EQ(num_1, Real("883720858535910776351202581.917466945883893895389739188650587389"));
}

TEST(Operations, subtraction) {
    EXPECT_EQ(Real("351653536746563723634763547635476235476354716.1726371881876235476235476234181818818188181872365236") -
              Real("628367837163.2772761235476235475237452754726374623754462536743746276354762354652323456165"),
              Real("351653536746563723634763547635476617119527653.9054610656400000001008024580465544295434729346622590834756348756458787654945"));
}

TEST(Operations, subtract_and_assign) {
    Real num_1("351653536746563723634763547635476235476354716.1726371881876235476235476234181818818188181872365236");
    Real num_2("628367837163.2772761235476235475237452754726374623754462536743746276354762354652323456165");

    num_1 -= num_2;

    EXPECT_EQ(num_1, Real("351653536746563723634763547635476617119527653.9054610656400000001008024580465544295434729346622590834756348756458787654945"));
}

TEST(Operations, product) {
    EXPECT_EQ(Real("-731766178812314141414126.15414646433556665635556372737434723654242365743645234357456323414") *
              Real("8384418346523454632358318.1332220"),
              Real("-6135433774999329574090288897493391564037428019115.35089918329679085975632537392798145113089194931657148800110103969859908"));
}

TEST(Operations, multiplicate_and_assign) {
    Real num_1("-731766178812314141414126.15414646433556665635556372737434723654242365743645234357456323414");
    Real num_2("8384418346523454632358318.1332220");

    num_1 *= num_2;

    EXPECT_EQ(num_1, Real("-6135433774999329574090288897493391564037428019115.35089918329679085975632537392798145113089194931657148800110103969859908"));
}


TEST(Operations, division) {
    EXPECT_EQ(Real("121231252562162241341112232.313663727341414141762364235") /
              Real("-32472736121414147142341.138377347212112"),
              Real("-3733.3242295593406112539172969164497644381423979210506491195164387686418862747487616148855151443488879241"));
}

TEST(Operations, divide_and_assign) {
    Real num_1("121231252562162241341112232.313663727341414141762364235");
    Real num_2("-32472736121414147142341.138377347212112");

    num_1 /= num_2;

    EXPECT_EQ(num_1, Real("-3733.3242295593406112539172969164497644381423979210506491195164387686418862747487616148855151443488879241"));
}

TEST(Operations, power) {
    Real num_1("113");
    Real powered = Real::pow(num_1, 15);

    EXPECT_EQ(powered, Real("6254270377697284219642783674257"));
}

TEST(Comparison, equal) {
    EXPECT_FALSE(Real("627153716485451824146.17461726571862397192638152365167243724757364") ==
                 Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235"));

    EXPECT_TRUE(Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235") ==
                Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235"));
}

TEST(Comparison, not_equal) {
    EXPECT_TRUE(Real("627153716485451824146.17461726571862397192638152365167243724757364") !=
             Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235"));

    EXPECT_FALSE(Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235") !=
            Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235"));
}

TEST(Comparison, more) {
    EXPECT_FALSE(Real("627153716485451824146.17461726571862397192638152365167243724757364") >
                 Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235"));

    EXPECT_TRUE(Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235") >
                Real("627153716485451824146.17461726571862397192638152365167243724757364"));
}

TEST(Comparison, more_or_equal) {
    EXPECT_FALSE(Real("627153716485451824146.17461726571862397192638152365167243724757364") >=
                 Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235"));

    EXPECT_TRUE(Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235") >=
                Real("627153716485451824146.17461726571862397192638152365167243724757364"));

    EXPECT_TRUE(Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235") >=
                Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235"));
}

TEST(Comparison, less) {
    EXPECT_TRUE(Real("627153716485451824146.17461726571862397192638152365167243724757364") <
             Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235"));

    EXPECT_FALSE(Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235") <
            Real("627153716485451824146.17461726571862397192638152365167243724757364"));
}

TEST(Comparison, less_or_equal) {
    EXPECT_TRUE(Real("627153716485451824146.17461726571862397192638152365167243724757364") <=
                 Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235"));

    EXPECT_FALSE(Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235") <=
                Real("627153716485451824146.17461726571862397192638152365167243724757364"));

    EXPECT_TRUE(Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235") <=
                Real("364362462384623875682574326400000.9174719365823764893472385467235478638423654732874278348634235"));
}

TEST(Miscellaneous, indexation) {
    Real num("1234567890");
    char ind_3_val = '4';

    EXPECT_TRUE(ind_3_val == num[3]);
}


int main(int argc, char* argv[])
{
    ::testing::InitGoogleTest(&argc, argv);
    return RUN_ALL_TESTS();
}